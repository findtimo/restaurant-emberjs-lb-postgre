{"version":3,"file":"clear-all-cookies.js","sources":["../../src/test-support/clear-all-cookies.js"],"sourcesContent":["import { assert } from '@ember/debug';\nimport { isEmpty } from '@ember/utils';\nimport { serializeCookie } from '../utils/serialize-cookie';\n\nexport default function clearAllCookies(options = {}) {\n  assert('Cookies cannot be set to be HTTP-only from a browser!', !options.httpOnly);\n  assert(\n    'Expires, Max-Age, and raw options cannot be set when clearing cookies',\n    isEmpty(options.expires) && isEmpty(options.maxAge) && isEmpty(options.raw)\n  );\n  options = Object.assign({}, options, {\n    expires: new Date(0),\n  });\n\n  let cookies = document.cookie.split(';');\n\n  cookies.forEach(cookie => {\n    let cookieName = cookie.split('=')[0];\n    document.cookie = serializeCookie(cookieName, '', options);\n  });\n}\n"],"names":["clearAllCookies","options","assert","httpOnly","isEmpty","expires","maxAge","raw","Object","assign","Date","cookies","document","cookie","split","forEach","cookieName","serializeCookie"],"mappings":";;;;AAIe,SAASA,eAAeA,CAACC,OAAO,GAAG,EAAE,EAAE;AACpDC,EAAAA,MAAM,CAAC,uDAAuD,EAAE,CAACD,OAAO,CAACE,QAAQ,CAAC,CAAA;EAClFD,MAAM,CACJ,uEAAuE,EACvEE,OAAO,CAACH,OAAO,CAACI,OAAO,CAAC,IAAID,OAAO,CAACH,OAAO,CAACK,MAAM,CAAC,IAAIF,OAAO,CAACH,OAAO,CAACM,GAAG,CAC5E,CAAC,CAAA;EACDN,OAAO,GAAGO,MAAM,CAACC,MAAM,CAAC,EAAE,EAAER,OAAO,EAAE;AACnCI,IAAAA,OAAO,EAAE,IAAIK,IAAI,CAAC,CAAC,CAAA;AACrB,GAAC,CAAC,CAAA;EAEF,IAAIC,OAAO,GAAGC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC,CAAA;AAExCH,EAAAA,OAAO,CAACI,OAAO,CAACF,MAAM,IAAI;IACxB,IAAIG,UAAU,GAAGH,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA;IACrCF,QAAQ,CAACC,MAAM,GAAGI,eAAe,CAACD,UAAU,EAAE,EAAE,EAAEf,OAAO,CAAC,CAAA;AAC5D,GAAC,CAAC,CAAA;AACJ;;;;"}