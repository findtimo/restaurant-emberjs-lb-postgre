{"version":3,"file":"index.js","sources":["../../lib/opcodes.ts","../../lib/resolution.ts","../../lib/well-known.ts","../../index.ts"],"sourcesContent":["import type {\n  AppendOpcode,\n  AttrSplatOpcode,\n  BlockOpcode,\n  CallOpcode,\n  CloseElementOpcode,\n  CommentOpcode,\n  ComponentAttrOpcode,\n  ComponentOpcode,\n  ConcatOpcode,\n  CurryOpcode,\n  DebuggerOpcode,\n  DynamicArgOpcode,\n  DynamicAttrOpcode,\n  EachOpcode,\n  FlushElementOpcode,\n  GetDynamicVarOpcode,\n  GetFreeAsComponentHeadOpcode,\n  GetFreeAsComponentOrHelperHeadOpcode,\n  GetFreeAsComponentOrHelperHeadOrThisFallbackOpcode,\n  GetFreeAsDeprecatedHelperHeadOrThisFallbackOpcode,\n  GetFreeAsHelperHeadOpcode,\n  GetFreeAsHelperHeadOrThisFallbackOpcode,\n  GetFreeAsModifierHeadOpcode,\n  GetLexicalSymbolOpcode,\n  GetStrictKeywordOpcode,\n  GetSymbolOpcode,\n  HasBlockOpcode,\n  HasBlockParamsOpcode,\n  IfInlineOpcode,\n  IfOpcode,\n  InElementOpcode,\n  InvokeComponentOpcode,\n  LetOpcode,\n  LogOpcode,\n  ModifierOpcode,\n  NotOpcode,\n  OpenElementOpcode,\n  OpenElementWithSplatOpcode,\n  StaticArgOpcode,\n  StaticAttrOpcode,\n  StaticComponentAttrOpcode,\n  StrictBlockOpcode,\n  StrictModifierOpcode,\n  TrustingAppendOpcode,\n  TrustingComponentAttrOpcode,\n  TrustingDynamicAttrOpcode,\n  UndefinedOpcode,\n  WithDynamicVarsOpcode,\n  WithOpcode,\n  YieldOpcode,\n} from '@glimmer/interfaces';\n\nexport const opcodes = {\n  Append: 1 satisfies AppendOpcode,\n  TrustingAppend: 2 satisfies TrustingAppendOpcode,\n  Comment: 3 satisfies CommentOpcode,\n  Modifier: 4 satisfies ModifierOpcode,\n  StrictModifier: 5 satisfies StrictModifierOpcode,\n  Block: 6 satisfies BlockOpcode,\n  StrictBlock: 7 satisfies StrictBlockOpcode,\n  Component: 8 satisfies ComponentOpcode,\n  OpenElement: 10 satisfies OpenElementOpcode,\n  OpenElementWithSplat: 11 satisfies OpenElementWithSplatOpcode,\n  FlushElement: 12 satisfies FlushElementOpcode,\n  CloseElement: 13 satisfies CloseElementOpcode,\n  StaticAttr: 14 satisfies StaticAttrOpcode,\n  DynamicAttr: 15 satisfies DynamicAttrOpcode,\n  ComponentAttr: 16 satisfies ComponentAttrOpcode,\n  AttrSplat: 17 satisfies AttrSplatOpcode,\n  Yield: 18 satisfies YieldOpcode,\n  DynamicArg: 20 satisfies DynamicArgOpcode,\n  StaticArg: 21 satisfies StaticArgOpcode,\n  TrustingDynamicAttr: 22 satisfies TrustingDynamicAttrOpcode,\n  TrustingComponentAttr: 23 satisfies TrustingComponentAttrOpcode,\n  StaticComponentAttr: 24 satisfies StaticComponentAttrOpcode,\n  Debugger: 26 satisfies DebuggerOpcode,\n  Undefined: 27 satisfies UndefinedOpcode,\n  Call: 28 satisfies CallOpcode,\n  Concat: 29 satisfies ConcatOpcode,\n  GetSymbol: 30 satisfies GetSymbolOpcode,\n  GetLexicalSymbol: 32 satisfies GetLexicalSymbolOpcode,\n  GetStrictKeyword: 31 satisfies GetStrictKeywordOpcode,\n  GetFreeAsComponentOrHelperHeadOrThisFallback:\n    34 satisfies GetFreeAsComponentOrHelperHeadOrThisFallbackOpcode,\n  GetFreeAsComponentOrHelperHead: 35 satisfies GetFreeAsComponentOrHelperHeadOpcode,\n  GetFreeAsHelperHeadOrThisFallback: 36 satisfies GetFreeAsHelperHeadOrThisFallbackOpcode,\n  GetFreeAsDeprecatedHelperHeadOrThisFallback:\n    99 satisfies GetFreeAsDeprecatedHelperHeadOrThisFallbackOpcode,\n  GetFreeAsHelperHead: 37 satisfies GetFreeAsHelperHeadOpcode,\n  GetFreeAsModifierHead: 38 satisfies GetFreeAsModifierHeadOpcode,\n  GetFreeAsComponentHead: 39 satisfies GetFreeAsComponentHeadOpcode,\n  InElement: 40 satisfies InElementOpcode,\n  If: 41 satisfies IfOpcode,\n  Each: 42 satisfies EachOpcode,\n  With: 43 satisfies WithOpcode,\n  Let: 44 satisfies LetOpcode,\n  WithDynamicVars: 45 satisfies WithDynamicVarsOpcode,\n  InvokeComponent: 46 satisfies InvokeComponentOpcode,\n  HasBlock: 48 satisfies HasBlockOpcode,\n  HasBlockParams: 49 satisfies HasBlockParamsOpcode,\n  Curry: 50 satisfies CurryOpcode,\n  Not: 51 satisfies NotOpcode,\n  IfInline: 52 satisfies IfInlineOpcode,\n  GetDynamicVar: 53 satisfies GetDynamicVarOpcode,\n  Log: 54 satisfies LogOpcode,\n} as const;\n","import type {\n  AmbiguousAppendInvokeResolution,\n  AmbiguousAppendResolution,\n  AmbiguousInvokeResolution,\n  ResolveAsCallHeadResolution,\n  ResolveAsComponentHeadResolution,\n  ResolveAsModifierHeadResolution,\n  StrictResolution,\n} from '@glimmer/interfaces';\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport type resolution =\n  | AmbiguousAppendInvokeResolution\n  | AmbiguousAppendResolution\n  | AmbiguousInvokeResolution\n  | ResolveAsCallHeadResolution\n  | ResolveAsComponentHeadResolution\n  | ResolveAsModifierHeadResolution\n  | StrictResolution;\n\nexport const resolution = {\n  Strict: 0 satisfies StrictResolution,\n  AmbiguousAppend: 1 satisfies AmbiguousAppendResolution,\n  AmbiguousAppendInvoke: 2 satisfies AmbiguousAppendInvokeResolution,\n  AmbiguousInvoke: 3 satisfies AmbiguousInvokeResolution,\n  ResolveAsCallHead: 5 satisfies ResolveAsCallHeadResolution,\n  ResolveAsModifierHead: 6 satisfies ResolveAsModifierHeadResolution,\n  ResolveAsComponentHead: 7 satisfies ResolveAsComponentHeadResolution,\n} as const;\n","import type {\n  ATag,\n  ClassAttr,\n  DivTag,\n  HrefAttr,\n  IdAttr,\n  NameAttr,\n  PTag,\n  SpanTag,\n  StyleAttr,\n  TypeAttr,\n  ValueAttr,\n} from '@glimmer/interfaces';\n\nexport const WellKnownAttrNames = {\n  class: 0 satisfies ClassAttr,\n  id: 1 satisfies IdAttr,\n  value: 2 satisfies ValueAttr,\n  name: 3 satisfies NameAttr,\n  type: 4 satisfies TypeAttr,\n  style: 5 satisfies StyleAttr,\n  href: 6 satisfies HrefAttr,\n} as const;\n\nexport const WellKnownTagNames = {\n  div: 0 satisfies DivTag,\n  span: 1 satisfies SpanTag,\n  p: 2 satisfies PTag,\n  a: 3 satisfies ATag,\n} as const;\n","import type { Expression, Expressions, Statement, Statements } from '@glimmer/interfaces';\n\nimport { opcodes } from './lib/opcodes';\n\nexport { opcodes as SexpOpcodes } from './lib/opcodes';\nexport { resolution as VariableResolutionContext } from './lib/resolution';\nexport { WellKnownAttrNames, WellKnownTagNames } from './lib/well-known';\n\nexport function is<T>(variant: number): (value: any) => value is T {\n  return function (value: any): value is T {\n    return Array.isArray(value) && value[0] === variant;\n  };\n}\n\n// Statements\nexport const isFlushElement = is<Statements.FlushElement>(opcodes.FlushElement);\n\nexport function isAttribute(val: Statement): val is Statements.Attribute {\n  return (\n    val[0] === opcodes.StaticAttr ||\n    val[0] === opcodes.DynamicAttr ||\n    val[0] === opcodes.TrustingDynamicAttr ||\n    val[0] === opcodes.ComponentAttr ||\n    val[0] === opcodes.StaticComponentAttr ||\n    val[0] === opcodes.TrustingComponentAttr ||\n    val[0] === opcodes.AttrSplat ||\n    val[0] === opcodes.Modifier\n  );\n}\n\nexport function isStringLiteral(expr: Expression): expr is Expressions.StringValue {\n  return typeof expr === 'string';\n}\n\nexport function getStringFromValue(expr: Expressions.StringValue): string {\n  return expr;\n}\n\nexport function isArgument(val: Statement): val is Statements.Argument {\n  return val[0] === opcodes.StaticArg || val[0] === opcodes.DynamicArg;\n}\n\nexport function isHelper(expr: Expression): expr is Expressions.Helper {\n  return Array.isArray(expr) && expr[0] === opcodes.Call;\n}\n\n// Expressions\nexport const isGet = is<Expressions.GetSymbol>(opcodes.GetSymbol);\n"],"names":["opcodes","Append","TrustingAppend","Comment","Modifier","StrictModifier","Block","StrictBlock","Component","OpenElement","OpenElementWithSplat","FlushElement","CloseElement","StaticAttr","DynamicAttr","ComponentAttr","AttrSplat","Yield","DynamicArg","StaticArg","TrustingDynamicAttr","TrustingComponentAttr","StaticComponentAttr","Debugger","Undefined","Call","Concat","GetSymbol","GetLexicalSymbol","GetStrictKeyword","GetFreeAsComponentOrHelperHeadOrThisFallback","GetFreeAsComponentOrHelperHead","GetFreeAsHelperHeadOrThisFallback","GetFreeAsDeprecatedHelperHeadOrThisFallback","GetFreeAsHelperHead","GetFreeAsModifierHead","GetFreeAsComponentHead","InElement","If","Each","With","Let","WithDynamicVars","InvokeComponent","HasBlock","HasBlockParams","Curry","Not","IfInline","GetDynamicVar","Log","resolution","Strict","AmbiguousAppend","AmbiguousAppendInvoke","AmbiguousInvoke","ResolveAsCallHead","ResolveAsModifierHead","ResolveAsComponentHead","WellKnownAttrNames","class","id","value","name","type","style","href","WellKnownTagNames","div","span","p","a","is","variant","Array","isArray","isFlushElement","isAttribute","val","isStringLiteral","expr","getStringFromValue","isArgument","isHelper","isGet"],"mappings":"AAqDO,MAAMA,EAAU,CACrBC,OAAQ,EACRC,eAAgB,EAChBC,QAAS,EACTC,SAAU,EACVC,eAAgB,EAChBC,MAAO,EACPC,YAAa,EACbC,UAAW,EACXC,YAAa,GACbC,qBAAsB,GACtBC,aAAc,GACdC,aAAc,GACdC,WAAY,GACZC,YAAa,GACbC,cAAe,GACfC,UAAW,GACXC,MAAO,GACPC,WAAY,GACZC,UAAW,GACXC,oBAAqB,GACrBC,sBAAuB,GACvBC,oBAAqB,GACrBC,SAAU,GACVC,UAAW,GACXC,KAAM,GACNC,OAAQ,GACRC,UAAW,GACXC,iBAAkB,GAClBC,iBAAkB,GAClBC,6CACE,GACFC,+BAAgC,GAChCC,kCAAmC,GACnCC,4CACE,GACFC,oBAAqB,GACrBC,sBAAuB,GACvBC,uBAAwB,GACxBC,UAAW,GACXC,GAAI,GACJC,KAAM,GACNC,KAAM,GACNC,IAAK,GACLC,gBAAiB,GACjBC,gBAAiB,GACjBC,SAAU,GACVC,eAAgB,GAChBC,MAAO,GACPC,IAAK,GACLC,SAAU,GACVC,cAAe,GACfC,IAAK,ICrFMC,EAAa,CACxBC,OAAQ,EACRC,gBAAiB,EACjBC,sBAAuB,EACvBC,gBAAiB,EACjBC,kBAAmB,EACnBC,sBAAuB,EACvBC,uBAAwB,GCbbC,EAAqB,CAChCC,MAAO,EACPC,GAAI,EACJC,MAAO,EACPC,KAAM,EACNC,KAAM,EACNC,MAAO,EACPC,KAAM,GAGKC,EAAoB,CAC/BC,IAAK,EACLC,KAAM,EACNC,EAAG,EACHC,EAAG,GCpBE,SAASC,EAAMC,GACpB,OAAO,SAAUX,GACf,OAAOY,MAAMC,QAAQb,IAAUA,EAAM,KAAOW,EAEhD,CAGO,MAAMG,EAAiBJ,EAA4BxE,EAAQW,cAE3D,SAASkE,EAAYC,GAC1B,OACEA,EAAI,KAAO9E,EAAQa,YACnBiE,EAAI,KAAO9E,EAAQc,aACnBgE,EAAI,KAAO9E,EAAQoB,qBACnB0D,EAAI,KAAO9E,EAAQe,eACnB+D,EAAI,KAAO9E,EAAQsB,qBACnBwD,EAAI,KAAO9E,EAAQqB,uBACnByD,EAAI,KAAO9E,EAAQgB,WACnB8D,EAAI,KAAO9E,EAAQI,QAEvB,CAEO,SAAS2E,EAAgBC,GAC9B,MAAuB,iBAATA,CAChB,CAEO,SAASC,EAAmBD,GACjC,OAAOA,CACT,CAEO,SAASE,EAAWJ,GACzB,OAAOA,EAAI,KAAO9E,EAAQmB,WAAa2D,EAAI,KAAO9E,EAAQkB,UAC5D,CAEO,SAASiE,EAASH,GACvB,OAAON,MAAMC,QAAQK,IAASA,EAAK,KAAOhF,EAAQyB,IACpD,CAGO,MAAM2D,EAAQZ,EAA0BxE,EAAQ2B"}