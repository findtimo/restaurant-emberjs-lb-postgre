{"version":3,"file":"index.js","sources":["../../index.ts"],"sourcesContent":["import { createRequire } from 'node:module';\n\nconst require = createRequire(import.meta.url);\n\nfunction defaultTo<T, U>(value: T, defaultVal: U): Exclude<T, undefined> | U {\n  return (value === undefined ? defaultVal : value) as Exclude<T, undefined> | U;\n}\n\ninterface Options {\n  isDebug?: boolean;\n  __loadPlugins?: boolean;\n}\n\nexport default function generateVmPlugins(\n  options: Options = {}\n  // eslint-disable-next-line @typescript-eslint/consistent-type-imports\n): import('@babel/core').PluginItem[] {\n  let isDebug = defaultTo(options.isDebug, true);\n  let __loadPlugins = defaultTo(options.__loadPlugins, false);\n\n  return [\n    [\n      __loadPlugins\n        ? require('babel-plugin-debug-macros')\n        : require.resolve('babel-plugin-debug-macros'),\n      {\n        debugTools: {\n          source: '@glimmer/global-context',\n          isDebug,\n        },\n        externalizeHelpers: {\n          module: true,\n        },\n        flags: [{ source: '@glimmer/env', flags: { DEBUG: isDebug } }],\n      },\n      'glimmer-vm-debug-macros',\n    ],\n  ];\n}\n"],"names":["require","createRequire","url","defaultTo","value","defaultVal","undefined","generateVmPlugins","options","isDebug","__loadPlugins","resolve","debugTools","source","externalizeHelpers","module","flags","DEBUG"],"mappings":"4CAEA,MAAMA,EAAUC,cAA0BC,KAE1C,SAASC,EAAgBC,EAAUC,GACjC,YAAkBC,IAAVF,EAAsBC,EAAaD,CAC7C,CAOe,SAASG,EACtBC,EAAmB,CAAC,GAGpB,IAAIC,EAAUN,EAAUK,EAAQC,SAAS,GAGzC,MAAO,CACL,CAHkBN,EAAUK,EAAQE,eAAe,GAK7CV,EAAQ,6BACRA,EAAQW,QAAQ,6BACpB,CACEC,WAAY,CACVC,OAAQ,0BACRJ,WAEFK,mBAAoB,CAClBC,QAAQ,GAEVC,MAAO,CAAC,CAAEH,OAAQ,eAAgBG,MAAO,CAAEC,MAAOR,MAEpD,2BAGN"}