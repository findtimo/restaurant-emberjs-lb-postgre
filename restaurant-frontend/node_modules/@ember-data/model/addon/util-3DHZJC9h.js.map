{"version":3,"file":"util-3DHZJC9h.js","sources":["../src/-private/util.ts"],"sourcesContent":["import { deprecate } from '@ember/debug';\nimport { dasherize } from '@ember/string';\n\nimport { DEPRECATE_NON_STRICT_TYPES } from '@ember-data/deprecations';\n\nexport type DecoratorPropertyDescriptor = (PropertyDescriptor & { initializer?: () => unknown }) | undefined;\n\nexport function isElementDescriptor(args: unknown[]): args is [object, string, DecoratorPropertyDescriptor] {\n  const [maybeTarget, maybeKey, maybeDesc] = args;\n\n  return (\n    // Ensure we have the right number of args\n    args.length === 3 &&\n    // Make sure the target is a class or object (prototype)\n    (typeof maybeTarget === 'function' || (typeof maybeTarget === 'object' && maybeTarget !== null)) &&\n    // Make sure the key is a string\n    typeof maybeKey === 'string' &&\n    // Make sure the descriptor is the right shape\n    ((typeof maybeDesc === 'object' &&\n      maybeDesc !== null &&\n      'enumerable' in maybeDesc &&\n      'configurable' in maybeDesc) ||\n      // TS compatibility\n      maybeDesc === undefined)\n  );\n}\n\ntype DataDecorator = (target: object, key: string, desc?: DecoratorPropertyDescriptor) => DecoratorPropertyDescriptor;\ntype DataDecoratorFactory = (...args: unknown[]) => DataDecorator;\n\nexport function computedMacroWithOptionalParams(fn: DataDecorator | DataDecoratorFactory) {\n  return (...maybeDesc: unknown[]) =>\n    isElementDescriptor(maybeDesc)\n      ? (fn as DataDecoratorFactory)()(...maybeDesc)\n      : fn(...(maybeDesc as [object, string, DecoratorPropertyDescriptor?]));\n}\n\nexport function normalizeModelName(type: string): string {\n  if (DEPRECATE_NON_STRICT_TYPES) {\n    const result = dasherize(type);\n\n    deprecate(\n      `The resource type '${type}' is not normalized. Update your application code to use '${result}' instead of '${type}'.`,\n      result === type,\n      {\n        id: 'ember-data:deprecate-non-strict-types',\n        until: '6.0',\n        for: 'ember-data',\n        since: {\n          available: '5.3',\n          enabled: '5.3',\n        },\n      }\n    );\n\n    return result;\n  }\n\n  return type;\n}\n"],"names":["isElementDescriptor","args","maybeTarget","maybeKey","maybeDesc","length","undefined","computedMacroWithOptionalParams","fn","normalizeModelName","type","macroCondition","getOwnConfig","deprecations","DEPRECATE_NON_STRICT_TYPES","result","dasherize","deprecate","id","until","for","since","available","enabled"],"mappings":";;;;AAOO,SAASA,mBAAmBA,CAACC,IAAe,EAAyD;EAC1G,MAAM,CAACC,WAAW,EAAEC,QAAQ,EAAEC,SAAS,CAAC,GAAGH,IAAI,CAAA;AAE/C,EAAA;AACE;IACAA,IAAI,CAACI,MAAM,KAAK,CAAC;AACjB;AACC,IAAA,OAAOH,WAAW,KAAK,UAAU,IAAK,OAAOA,WAAW,KAAK,QAAQ,IAAIA,WAAW,KAAK,IAAK,CAAC;AAChG;IACA,OAAOC,QAAQ,KAAK,QAAQ;AAC5B;AACE,IAAA,OAAOC,SAAS,KAAK,QAAQ,IAC7BA,SAAS,KAAK,IAAI,IAClB,YAAY,IAAIA,SAAS,IACzB,cAAc,IAAIA,SAAS;AAC3B;AACAA,IAAAA,SAAS,KAAKE,SAAS,CAAA;AAAC,IAAA;AAE9B,CAAA;AAKO,SAASC,+BAA+BA,CAACC,EAAwC,EAAE;EACxF,OAAO,CAAC,GAAGJ,SAAoB,KAC7BJ,mBAAmB,CAACI,SAAS,CAAC,GACzBI,EAAE,EAA2B,CAAC,GAAGJ,SAAS,CAAC,GAC5CI,EAAE,CAAC,GAAIJ,SAA4D,CAAC,CAAA;AAC5E,CAAA;AAEO,SAASK,kBAAkBA,CAACC,IAAY,EAAU;AACvD,EAAA,IAAAC,cAAA,CAAAC,YAAA,GAAAC,YAAA,CAAAC,0BAAA,CAAgC,EAAA;AAC9B,IAAA,MAAMC,MAAM,GAAGC,SAAS,CAACN,IAAI,CAAC,CAAA;AAE9BO,IAAAA,SAAS,CACN,CAAA,mBAAA,EAAqBP,IAAK,CAAA,0DAAA,EAA4DK,MAAO,CAAA,cAAA,EAAgBL,IAAK,CAAA,EAAA,CAAG,EACtHK,MAAM,KAAKL,IAAI,EACf;AACEQ,MAAAA,EAAE,EAAE,uCAAuC;AAC3CC,MAAAA,KAAK,EAAE,KAAK;AACZC,MAAAA,GAAG,EAAE,YAAY;AACjBC,MAAAA,KAAK,EAAE;AACLC,QAAAA,SAAS,EAAE,KAAK;AAChBC,QAAAA,OAAO,EAAE,KAAA;AACX,OAAA;AACF,KACF,CAAC,CAAA;AAED,IAAA,OAAOR,MAAM,CAAA;AACf,GAAA;AAEA,EAAA,OAAOL,IAAI,CAAA;AACb;;;;"}