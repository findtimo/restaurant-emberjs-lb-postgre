{"version":3,"file":"context-g9X123os.js","sources":["../../../node_modules/.pnpm/@babel+runtime@7.23.9/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js","../../../node_modules/.pnpm/@babel+runtime@7.23.9/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js","../src/-private/debug.ts","../src/-private/utils.ts","../src/-private/future.ts","../src/-private/context.ts"],"sourcesContent":["export default function _classPrivateFieldBase(receiver, privateKey) {\n  if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n    throw new TypeError(\"attempted to use private field on non-instance\");\n  }\n  return receiver;\n}","var id = 0;\nexport default function _classPrivateFieldKey(name) {\n  return \"__private_\" + id++ + \"_\" + name;\n}","import { DEBUG } from '@ember-data/env';\n\nimport { Context, upgradeHeaders } from './context';\nimport type { ImmutableHeaders, RequestInfo } from '@warp-drive/core-types/request';\n\nconst BODY_TYPES = {\n  type: 'string',\n  klass: ['Blob', 'ArrayBuffer', 'TypedArray', 'DataView', 'FormData', 'URLSearchParams', 'ReadableStream'],\n};\nconst ValidKeys = new Map<string, string | string[] | typeof BODY_TYPES>([\n  ['records', 'array'],\n  ['data', 'json'],\n  ['body', BODY_TYPES],\n  ['disableTestWaiter', 'boolean'],\n  ['options', 'object'],\n  ['cacheOptions', 'object'],\n  ['op', 'string'],\n  ['store', 'object'],\n  ['url', 'string'],\n  ['cache', ['default', 'force-cache', 'no-cache', 'no-store', 'only-if-cached', 'reload']],\n  ['credentials', ['include', 'omit', 'same-origin']],\n  [\n    'destination',\n    [\n      '',\n      'object',\n      'audio',\n      'audioworklet',\n      'document',\n      'embed',\n      'font',\n      'frame',\n      'iframe',\n      'image',\n      'manifest',\n      'paintworklet',\n      'report',\n      'script',\n      'sharedworker',\n      'style',\n      'track',\n      'video',\n      'worker',\n      'xslt',\n    ],\n  ],\n  ['headers', 'headers'],\n  ['integrity', 'string'],\n  ['keepalive', 'boolean'],\n  ['method', ['GET', 'PUT', 'PATCH', 'DELETE', 'POST', 'OPTIONS']],\n  ['mode', ['same-origin', 'cors', 'navigate', 'no-cors']],\n  ['redirect', ['error', 'follow', 'manual']],\n  ['referrer', 'string'],\n  ['signal', 'AbortSignal'],\n  ['controller', 'AbortController'],\n  [\n    'referrerPolicy',\n    [\n      '',\n      'same-origin',\n      'no-referrer',\n      'no-referrer-when-downgrade',\n      'origin',\n      'origin-when-cross-origin',\n      'strict-origin',\n      'strict-origin-when-cross-origin',\n      'unsafe-url',\n    ],\n  ],\n]);\n\nconst IS_FROZEN = Symbol('FROZEN');\nconst IS_COLLECTION = Symbol.for('Collection');\n\nfunction freezeHeaders(headers: Headers | ImmutableHeaders): ImmutableHeaders {\n  headers.delete =\n    headers.set =\n    headers.append =\n      () => {\n        throw new Error(`Cannot Mutate Immutatable Headers, use headers.clone to get a copy`);\n      };\n  upgradeHeaders(headers);\n  return headers as ImmutableHeaders;\n}\n\nexport function deepFreeze<T = unknown>(value: T): T {\n  if (value && (value as { [IS_FROZEN]?: true })[IS_FROZEN]) {\n    return value;\n  }\n  const _type = typeof value;\n  switch (_type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'undefined':\n    case 'bigint':\n      return value;\n    case 'function':\n      throw new Error(`Cannot deep-freeze a function`);\n    case 'object': {\n      const _niceType = niceTypeOf(value);\n      switch (_niceType) {\n        case 'array': {\n          if ((value as unknown[] & { [IS_COLLECTION]?: true })[IS_COLLECTION]) {\n            return value;\n          }\n          const arr = (value as unknown[]).map(deepFreeze);\n          (arr as unknown[] & { [IS_FROZEN]: true })[IS_FROZEN] = true;\n          return Object.freeze(arr) as T;\n        }\n        case 'null':\n          return value;\n        case 'object':\n          Object.keys(value as Record<string, unknown>).forEach((key) => {\n            try {\n              (value as Record<string, unknown>)[key] = deepFreeze((value as Record<string, unknown>)[key]) as object;\n            } catch {\n              // continue\n            }\n          });\n          (value as Record<string | symbol, unknown>)[IS_FROZEN] = true;\n          return Object.freeze(value);\n        case 'headers':\n          return freezeHeaders(value as Headers) as T;\n        case 'Collection':\n        case 'Store':\n        case 'AbortSignal':\n          return value;\n        case 'date':\n        case 'map':\n        case 'set':\n        case 'error':\n        case 'stream':\n        default:\n          // eslint-disable-next-line no-console\n          // console.log(`Cannot deep-freeze ${_niceType}`);\n          return value;\n      }\n    }\n  }\n}\n\nfunction isMaybeContext(request: unknown) {\n  if (request && typeof request === 'object') {\n    const keys = Object.keys(request);\n    if (keys.length === 1 && keys[0] === 'request') {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction niceTypeOf(v: unknown) {\n  if (v === null) {\n    return 'null';\n  }\n  if (typeof v === 'string') {\n    return v ? 'non-empty-string' : 'empty-string';\n  }\n  if (!v) {\n    return typeof v;\n  }\n  if (Array.isArray(v)) {\n    return 'array';\n  }\n  if (v instanceof Date) {\n    return 'date';\n  }\n  if (v instanceof Map) {\n    return 'map';\n  }\n  if (v instanceof Set) {\n    return 'set';\n  }\n  if (v instanceof Error) {\n    return 'error';\n  }\n  if (v instanceof ReadableStream || v instanceof WritableStream || v instanceof TransformStream) {\n    return 'stream';\n  }\n  if (v instanceof Headers) {\n    return 'headers';\n  }\n  if (typeof v === 'object' && v.constructor && v.constructor.name !== 'Object') {\n    return v.constructor.name;\n  }\n  return typeof v;\n}\n\nfunction validateKey(key: string, value: unknown, errors: string[]) {\n  const schema = ValidKeys.get(key);\n  if (!schema && !IgnoredKeys.has(key)) {\n    errors.push(`InvalidKey: '${key}'`);\n    return;\n  }\n  if (schema) {\n    if (schema === BODY_TYPES) {\n      if (typeof value === 'string' || value instanceof ReadableStream) {\n        return;\n      }\n      let type = niceTypeOf(value);\n      if (schema.klass.includes(type)) {\n        return;\n      }\n      errors.push(\n        `InvalidValue: key 'body' should be a string or one of '${schema.klass.join(\"', '\")}', received ${\n          '<a value of type ' + niceTypeOf(value) + '>'\n        }`\n      );\n      return;\n    }\n    if (Array.isArray(schema)) {\n      if (!schema.includes(value as string)) {\n        errors.push(\n          `InvalidValue: key ${key} should be a one of '${schema.join(\"', '\")}', received ${\n            typeof value === 'string' ? value : '<a value of type ' + niceTypeOf(value) + '>'\n          }`\n        );\n      }\n      return;\n    } else if (schema === 'json') {\n      try {\n        JSON.stringify(value);\n      } catch (e) {\n        errors.push(\n          `InvalidValue: key ${key} should be a JSON serializable value, but failed to serialize with Error - ${\n            (e as Error).message\n          }`\n        );\n      }\n      return;\n    } else if (schema === 'headers') {\n      if (!(value instanceof Headers)) {\n        errors.push(`InvalidValue: key ${key} should be an instance of Headers, received ${niceTypeOf(value)}`);\n      }\n      return;\n    } else if (schema === 'record') {\n      const _type = typeof value;\n      // record must extend plain object or Object.create(null)\n      if (!value || _type !== 'object' || (value.constructor && value.constructor !== Object)) {\n        errors.push(\n          `InvalidValue: key ${key} should be a dictionary of string keys to string values, received ${niceTypeOf(\n            value\n          )}`\n        );\n        return;\n      }\n      const keys = Object.keys(value);\n      keys.forEach((k) => {\n        let v: unknown = (value as Record<string, unknown>)[k];\n        if (typeof k !== 'string') {\n          errors.push(`\\tThe key ${String(k)} on ${key} should be a string key`);\n        } else if (typeof v !== 'string') {\n          errors.push(`\\tThe value of ${key}.${k} should be a string not ${niceTypeOf(v)}`);\n        }\n      });\n      return;\n    } else if (schema === 'string') {\n      if (typeof value !== 'string' || value.length === 0) {\n        errors.push(\n          `InvalidValue: key ${key} should be a non-empty string, received ${\n            typeof value === 'string' ? \"''\" : typeof value\n          }`\n        );\n      }\n      return;\n    } else if (schema === 'object') {\n      if (!value || Array.isArray(value) || typeof value !== 'object') {\n        errors.push(`InvalidValue: key ${key} should be an object`);\n      }\n      return;\n    } else if (schema === 'boolean') {\n      if (typeof value !== 'boolean') {\n        errors.push(`InvalidValue: key ${key} should be a boolean, received ${typeof value}`);\n      }\n      return;\n    } else if (schema === 'array') {\n      if (!Array.isArray(value)) {\n        errors.push(`InvalidValue: key ${key} should be an array, received ${typeof value}`);\n      }\n      return;\n    }\n  }\n}\n\nconst IgnoredKeys = new Set<string>([]);\n\nexport function assertValidRequest(\n  request: RequestInfo | Context,\n  isTopLevel: boolean\n): asserts request is RequestInfo {\n  if (DEBUG) {\n    // handle basic shape\n    if (!request) {\n      throw new Error(\n        `Expected ${\n          isTopLevel ? 'RequestManager.request' : 'next'\n        }(<request>) to be called with a request, but none was provided.`\n      );\n    }\n    if (Array.isArray(request) || typeof request !== 'object') {\n      throw new Error(\n        `The \\`request\\` passed to \\`${\n          isTopLevel ? 'RequestManager.request' : 'next'\n        }(<request>)\\` should be an object, received \\`${niceTypeOf(request)}\\``\n      );\n    }\n    if (Object.keys(request).length === 0) {\n      throw new Error(\n        `The \\`request\\` passed to \\`${\n          isTopLevel ? 'RequestManager.request' : 'next'\n        }(<request>)\\` was empty (\\`{}\\`). Requests need at least one valid key.`\n      );\n    }\n\n    // handle accidentally passing context entirely\n    if (request instanceof Context) {\n      throw new Error(\n        `Expected a request passed to \\`${\n          isTopLevel ? 'RequestManager.request' : 'next'\n        }(<request>)\\` but received the previous handler's context instead`\n      );\n    }\n    // handle Object.assign({}, context);\n    if (isMaybeContext(request)) {\n      throw new Error(\n        `Expected a request passed to \\`${\n          isTopLevel ? 'RequestManager.request' : 'next'\n        }(<request>)\\` but received an object with a request key instead.`\n      );\n    }\n\n    // handle schema\n    const keys = Object.keys(request) as Array<keyof RequestInfo>;\n    const validationErrors: string[] = [];\n    const isLegacyRequest: boolean = Boolean('op' in request && !request.url);\n    keys.forEach((key) => {\n      if (isLegacyRequest && key === 'data') {\n        return;\n      }\n      validateKey(key, request[key], validationErrors);\n    });\n    if (validationErrors.length) {\n      const error: Error & { errors: string[] } = new Error(\n        `Invalid Request passed to \\`${\n          isTopLevel ? 'RequestManager.request' : 'next'\n        }(<request>)\\`.\\n\\nThe following issues were found:\\n\\n\\t${validationErrors.join('\\n\\t')}`\n      ) as Error & { errors: string[] };\n      error.errors = validationErrors;\n      throw error;\n    }\n  }\n}\n","import { DEBUG } from '@ember-data/env';\nimport {\n  type RequestInfo,\n  STRUCTURED,\n  type StructuredDataDocument,\n  type StructuredErrorDocument,\n} from '@warp-drive/core-types/request';\n\nimport { Context, ContextOwner } from './context';\nimport { assertValidRequest } from './debug';\nimport { createFuture, isFuture } from './future';\nimport type { DeferredFuture, Future, GodContext, Handler } from './types';\n\nexport function curryFuture<T>(owner: ContextOwner, inbound: Future<T>, outbound: DeferredFuture<T>): Future<T> {\n  owner.setStream(inbound.getStream());\n\n  inbound.then(\n    (doc: StructuredDataDocument<T>) => {\n      const document = {\n        [STRUCTURED]: true as const,\n        request: owner.request,\n        response: doc.response,\n        content: doc.content,\n      };\n      outbound.resolve(document);\n    },\n    (error: Error & StructuredErrorDocument) => {\n      if (isDoc(error)) {\n        owner.setStream(owner.god.stream);\n      }\n      if (!error || !(error instanceof Error)) {\n        try {\n          throw new Error(error ? error : `Request Rejected with an Unknown Error`);\n        } catch (e: unknown) {\n          if (error && typeof error === 'object') {\n            Object.assign(e as Error, error);\n            (e as Error & StructuredErrorDocument).message =\n              (error as Error).message || `Request Rejected with an Unknown Error`;\n          }\n          error = e as Error & StructuredErrorDocument;\n        }\n      }\n\n      error[STRUCTURED] = true;\n      error.request = owner.request;\n      error.response = owner.getResponse();\n      error.error = error.error || error.message;\n\n      outbound.reject(error);\n    }\n  );\n  return outbound.promise;\n}\n\nfunction isDoc<T>(doc: T | StructuredDataDocument<T>): doc is StructuredDataDocument<T> {\n  return doc && (doc as StructuredDataDocument<T>)[STRUCTURED] === true;\n}\n\nexport type HttpErrorProps = {\n  code: number;\n  name: string;\n  status: number;\n  statusText: string;\n  isRequestError: boolean;\n};\n\nexport function enhanceReason(reason?: string) {\n  return new DOMException(reason || 'The user aborted a request.', 'AbortError');\n}\n\nexport function handleOutcome<T>(\n  owner: ContextOwner,\n  inbound: Promise<T | StructuredDataDocument<T>>,\n  outbound: DeferredFuture<T>\n): Future<T> {\n  inbound.then(\n    (content: T | StructuredDataDocument<T>) => {\n      if (owner.controller.signal.aborted) {\n        // the next function did not respect the signal, we handle it here\n        outbound.reject(enhanceReason(owner.controller.signal.reason as string));\n        return;\n      }\n      if (isDoc(content)) {\n        owner.setStream(owner.god.stream);\n        content = content.content;\n      }\n      const document = {\n        [STRUCTURED]: true as const,\n        request: owner.request,\n        response: owner.getResponse(),\n        content,\n      };\n      outbound.resolve(document);\n    },\n    (error: Error & StructuredErrorDocument) => {\n      if (isDoc(error)) {\n        owner.setStream(owner.god.stream);\n      }\n      if (!error) {\n        try {\n          throw new Error(`Request Rejected with an Unknown Error`);\n        } catch (e: unknown) {\n          error = e as Error & StructuredErrorDocument;\n        }\n      }\n\n      error[STRUCTURED] = true;\n      error.request = owner.request;\n      error.response = owner.getResponse();\n      error.error = error.error || error.message;\n      outbound.reject(error);\n    }\n  );\n  return outbound.promise;\n}\n\nexport function executeNextHandler<T>(\n  wares: Readonly<Handler[]>,\n  request: RequestInfo,\n  i: number,\n  god: GodContext\n): Future<T> {\n  if (DEBUG) {\n    if (i === wares.length) {\n      throw new Error(`No handler was able to handle this request.`);\n    }\n    assertValidRequest(request, false);\n  }\n  const owner = new ContextOwner(request, god);\n\n  function next(r: RequestInfo): Future<T> {\n    owner.nextCalled++;\n    return executeNextHandler(wares, r, i + 1, god);\n  }\n\n  const context = new Context(owner);\n  let outcome: Promise<T | StructuredDataDocument<T>> | Future<T>;\n  try {\n    outcome = wares[i].request<T>(context, next);\n    if (DEBUG) {\n      if (!outcome || (!(outcome instanceof Promise) && !(typeof outcome === 'object' && 'then' in outcome))) {\n        // eslint-disable-next-line no-console\n        console.log({ request, handler: wares[i], outcome });\n        if (outcome === undefined) {\n          throw new Error(`Expected handler.request to return a promise, instead received undefined.`);\n        }\n        throw new Error(`Expected handler.request to return a promise, instead received a synchronous value.`);\n      }\n    }\n  } catch (e) {\n    outcome = Promise.reject<StructuredDataDocument<T>>(e);\n  }\n  const future = createFuture<T>(owner);\n\n  if (isFuture<T>(outcome)) {\n    return curryFuture(owner, outcome, future);\n  }\n\n  return handleOutcome(owner, outcome, future);\n}\n","import { IS_FUTURE, type StructuredDocument } from '@warp-drive/core-types/request';\n\nimport type { ContextOwner } from './context';\nimport type { Deferred, DeferredFuture, Future } from './types';\nimport { enhanceReason } from './utils';\n\nexport function isFuture<T>(maybe: unknown): maybe is Future<T> {\n  return Boolean(maybe && maybe instanceof Promise && (maybe as Future<T>)[IS_FUTURE] === true);\n}\n\nexport function createDeferred<T>(): Deferred<T> {\n  let resolve!: (v: T) => void;\n  let reject!: (v: unknown) => void;\n  const promise = new Promise<T>((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return { resolve, reject, promise };\n}\n\nexport function upgradePromise<T>(promise: Promise<StructuredDocument<T>>, future: Future<T>): Future<T> {\n  (promise as Future<T>)[IS_FUTURE] = true;\n  // eslint-disable-next-line @typescript-eslint/unbound-method\n  (promise as Future<T>).getStream = future.getStream;\n  // eslint-disable-next-line @typescript-eslint/unbound-method\n  (promise as Future<T>).abort = future.abort;\n  // eslint-disable-next-line @typescript-eslint/unbound-method\n  (promise as Future<T>).onFinalize = future.onFinalize;\n\n  return promise as Future<T>;\n}\n\nexport function createFuture<T>(owner: ContextOwner): DeferredFuture<T> {\n  const deferred = createDeferred<T>() as unknown as DeferredFuture<T>;\n  let { promise } = deferred;\n  let cbs: Array<() => void> | undefined;\n  promise = promise.finally(() => {\n    owner.resolveStream();\n    if (cbs) {\n      cbs.forEach((cb) => cb());\n    }\n  }) as Future<T>;\n  promise.onFinalize = (fn: () => void) => {\n    cbs = cbs || [];\n    cbs.push(fn);\n  };\n  promise[IS_FUTURE] = true;\n  promise.getStream = () => {\n    return owner.getStream();\n  };\n  promise.abort = (reason?: string) => {\n    owner.abort(enhanceReason(reason));\n  };\n  deferred.promise = promise;\n  return deferred;\n}\n","import { DEBUG } from '@ember-data/env';\nimport type { ImmutableHeaders, ImmutableRequestInfo, RequestInfo, ResponseInfo } from '@warp-drive/core-types/request';\nimport { SkipCache } from '@warp-drive/core-types/request';\n\nimport { deepFreeze } from './debug';\nimport { createDeferred } from './future';\nimport type { Deferred, GodContext } from './types';\n\nexport function upgradeHeaders(headers: Headers | ImmutableHeaders): ImmutableHeaders {\n  (headers as ImmutableHeaders).clone = () => {\n    return new Headers(headers);\n  };\n  (headers as ImmutableHeaders).toJSON = () => {\n    return Array.from(headers);\n  };\n  return headers as ImmutableHeaders;\n}\n\nexport function cloneResponseProperties(response: Response): ResponseInfo {\n  const { headers, ok, redirected, status, statusText, type, url } = response;\n  upgradeHeaders(headers);\n  return {\n    headers: headers as ImmutableHeaders,\n    ok,\n    redirected,\n    status,\n    statusText,\n    type,\n    url,\n  };\n}\n\nexport class ContextOwner {\n  hasSetStream = false;\n  hasSetResponse = false;\n  hasSubscribers = false;\n  stream: Deferred<ReadableStream | null> = createDeferred<ReadableStream | null>();\n  response: ResponseInfo | null = null;\n  declare request: ImmutableRequestInfo;\n  declare enhancedRequest: ImmutableRequestInfo;\n  nextCalled = 0;\n  declare god: GodContext;\n  declare controller: AbortController;\n  declare requestId: number;\n\n  constructor(request: RequestInfo, god: GodContext) {\n    this.requestId = god.id;\n    this.controller = request.controller || god.controller;\n    if (request.controller) {\n      if (request.controller !== god.controller) {\n        god.controller.signal.addEventListener('abort', () => {\n          this.controller.abort(god.controller.signal.reason);\n        });\n      }\n      delete request.controller;\n    }\n    let enhancedRequest: ImmutableRequestInfo = Object.assign(\n      { signal: this.controller.signal },\n      request\n    ) as ImmutableRequestInfo;\n    if (DEBUG) {\n      if (!request?.cacheOptions?.[SkipCache]) {\n        request = deepFreeze(request) as ImmutableRequestInfo;\n        enhancedRequest = deepFreeze(enhancedRequest);\n      }\n    } else {\n      if (request.headers) {\n        upgradeHeaders(request.headers);\n      }\n    }\n    this.enhancedRequest = enhancedRequest;\n    this.request = request as ImmutableRequestInfo;\n    this.god = god;\n    this.stream.promise = this.stream.promise.then((stream: ReadableStream | null) => {\n      if (this.god.stream === stream && this.hasSubscribers) {\n        this.god.stream = null;\n      }\n      return stream;\n    });\n  }\n\n  getResponse(): ResponseInfo | null {\n    if (this.hasSetResponse) {\n      return this.response;\n    }\n    if (this.nextCalled === 1) {\n      return this.god.response;\n    }\n    return null;\n  }\n  getStream(): Promise<ReadableStream | null> {\n    this.hasSubscribers = true;\n    return this.stream.promise;\n  }\n  abort(reason: DOMException) {\n    this.controller.abort(reason);\n  }\n\n  setStream(stream: ReadableStream | Promise<ReadableStream | null> | null) {\n    if (!this.hasSetStream) {\n      this.hasSetStream = true;\n\n      if (!(stream instanceof Promise)) {\n        this.god.stream = stream;\n      }\n      // @ts-expect-error\n      this.stream.resolve(stream);\n    }\n  }\n\n  resolveStream() {\n    this.setStream(this.nextCalled === 1 ? this.god.stream : null);\n  }\n\n  setResponse(response: ResponseInfo | Response | null) {\n    if (this.hasSetResponse) {\n      if (DEBUG) {\n        throw new Error(`Cannot setResponse when a response has already been set`);\n      }\n      return;\n    }\n    this.hasSetResponse = true;\n    if (response instanceof Response) {\n      let responseData = cloneResponseProperties(response);\n\n      if (DEBUG) {\n        responseData = deepFreeze(responseData);\n      }\n      this.response = responseData;\n      this.god.response = responseData;\n    } else {\n      this.response = response;\n      this.god.response = response;\n    }\n  }\n}\n\nexport class Context {\n  #owner: ContextOwner;\n  declare request: ImmutableRequestInfo;\n  declare id: number;\n\n  constructor(owner: ContextOwner) {\n    this.id = owner.requestId;\n    this.#owner = owner;\n    this.request = owner.enhancedRequest;\n  }\n  setStream(stream: ReadableStream | Promise<ReadableStream | null>) {\n    this.#owner.setStream(stream);\n  }\n  setResponse(response: ResponseInfo | Response | null) {\n    this.#owner.setResponse(response);\n  }\n}\nexport type HandlerRequestContext = Context;\n"],"names":["BODY_TYPES","type","klass","ValidKeys","Map","IS_FROZEN","Symbol","IS_COLLECTION","for","freezeHeaders","headers","delete","set","append","Error","upgradeHeaders","deepFreeze","value","_type","_niceType","niceTypeOf","arr","map","Object","freeze","keys","forEach","key","isMaybeContext","request","length","v","Array","isArray","Date","Set","ReadableStream","WritableStream","TransformStream","Headers","constructor","name","validateKey","errors","schema","get","IgnoredKeys","has","push","includes","join","JSON","stringify","e","message","k","String","assertValidRequest","isTopLevel","macroCondition","getOwnConfig","env","DEBUG","Context","validationErrors","isLegacyRequest","Boolean","url","error","curryFuture","owner","inbound","outbound","setStream","getStream","then","doc","document","STRUCTURED","response","content","resolve","isDoc","god","stream","assign","getResponse","reject","promise","enhanceReason","reason","DOMException","handleOutcome","controller","signal","aborted","executeNextHandler","wares","i","ContextOwner","next","r","nextCalled","context","outcome","Promise","console","log","handler","undefined","future","createFuture","isFuture","maybe","IS_FUTURE","createDeferred","res","rej","upgradePromise","abort","onFinalize","deferred","cbs","finally","resolveStream","cb","fn","clone","toJSON","from","cloneResponseProperties","ok","redirected","status","statusText","hasSetStream","hasSetResponse","hasSubscribers","requestId","id","addEventListener","enhancedRequest","cacheOptions","SkipCache","setResponse","Response","responseData","_owner","_classPrivateFieldLooseKey","defineProperty","writable","_classPrivateFieldLooseBase"],"mappings":"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","x_google_ignoreList":[0,1]}