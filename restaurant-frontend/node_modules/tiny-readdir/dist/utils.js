/* IMPORT */
import makeNakedPromise from 'promise-make-naked';
/* MAIN */
const castArray = (value) => {
    return Array.isArray(value) ? value : [value];
};
const isFunction = (value) => {
    return (typeof value === 'function');
};
const makeCounterPromise = () => {
    const { promise, resolve } = makeNakedPromise();
    let counter = 0;
    const increment = () => {
        counter += 1;
    };
    const decrement = () => {
        counter -= 1;
        if (counter)
            return;
        resolve();
    };
    const init = () => {
        increment();
        queueMicrotask(decrement);
    };
    init();
    return { promise, increment, decrement };
};
/* EXPORT */
export { castArray, isFunction, makeCounterPromise };
